# LibreLog Environment Variables Template
# Copy this file to .env and fill in your values

# Database Configuration
# IMPORTANT: Set a strong password for production
# Generate a strong password: python -c 'import secrets; print(secrets.token_urlsafe(32))'
POSTGRES_PASSWORD=changeme-in-production-min-32-characters
POSTGRES_URI=postgresql://librelog:${POSTGRES_PASSWORD}@db:5432/librelog

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# JWT Authentication
# REQUIRED: Must be at least 32 characters long for security
# Generate a strong secret key: python -c 'import secrets; print(secrets.token_urlsafe(32))'
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-characters

# Application Environment
APP_ENV=development
# Options: development, production

# Password Policy
# Minimum password length (default: 12, enterprise recommended: 16)
PASSWORD_MIN_LENGTH=12

# Rate Limiting
# Enable/disable rate limiting (default: true)
RATE_LIMIT_ENABLED=true
# Redis URL for distributed rate limiting (optional, uses in-memory if not set)
# RATE_LIMIT_REDIS_URL=redis://redis:6379/1

# Account Lockout
# Number of failed attempts before lockout (default: 5)
ACCOUNT_LOCKOUT_ATTEMPTS=5
# Lockout duration in minutes (default: 15)
ACCOUNT_LOCKOUT_DURATION_MINUTES=15

# Token Expiration
# Access token expiration in minutes (default: 15 for enterprise security)
ACCESS_TOKEN_EXPIRE_MINUTES=15

# LibreTime Integration
# Internal URL for container-to-container communication (use container name, e.g., http://nginx:8080)
LIBRETIME_INTERNAL_URL=http://nginx:8080
# Public URL for external access (used by frontend/browser)
LIBRETIME_API_URL=https://dev-studio.gayphx.com
LIBRETIME_API_KEY=your-libretime-api-key
LIBRETIME_PUBLIC_URL=https://dev-studio.gayphx.com

# AzuraCast Integration (optional)
AZURACAST_URL=https://your-azuracast-url/api
AZURACAST_API_KEY=your-azuracast-api-key

# SMTP Configuration (for email notifications and invoices)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@librelog.local

# File Storage Directories
COPY_FILES_DIR=/var/lib/librelog/copy_files
VOICE_TRACKS_DIR=/var/lib/librelog/voice_tracks
FILES_DIR=/var/lib/librelog/files
BACKUP_DIR=/var/lib/librelog/backups

# Settings Encryption Key (for encrypted settings storage)
SETTINGS_ENCRYPTION_KEY=librelog-default-key-change-in-production-min-32-characters

# AgencyHandy Integration (optional - for billing sync)
AGENCYHANDY_API_URL=https://api.agencyhandy.com
AGENCYHANDY_API_KEY=your-agencyhandy-bearer-token
AGENCYHANDY_LEAD_SOURCE=LibreLog
AGENCYHANDY_SYNC_ADVERTISERS=true
AGENCYHANDY_SYNC_ORDERS=true
AGENCYHANDY_SYNC_INVOICES=false

# Cloud Storage (optional - for backups and file storage)
# AWS S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=us-east-1

# Backblaze B2
B2_APPLICATION_KEY_ID=
B2_APPLICATION_KEY=
B2_BUCKET_NAME=

# OAuth2 Token Refresh (for external services that support it)
# SERVICE_TOKEN_URL=https://api.example.com/oauth/token
# SERVICE_CLIENT_ID=your-client-id
# SERVICE_CLIENT_SECRET=your-client-secret
# SERVICE_REFRESH_TOKEN=your-refresh-token

